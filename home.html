<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>미니홈피 - Your Cyworld Style</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="style.css?v=3">

  <style>
    /* 기존 CSS 유지 + 회전 보정 전용 코드 */

    /* 바깥 종이는 기울어짐 유지 */
    .memo-layer {
      transform: rotate(-2deg);
    }
    .memo-inner {
      transform: rotate(1deg);
    }

    /* mini-home은 절대 기울어지지 않게 새 wrapper로 보정 */
    .mini-wrapper {
      transform: rotate(-1deg); /* memo-inner가 1deg 기울려 있으므로 반대로 보정 */
    }

    .mini-home {
      transform: none !important;
    }
  </style>
</head>

<body>

  <div class="memo-layer">
    <div class="memo-inner">

      <!-- 미니홈피를 반듯하게 유지하는 wrapper -->
      <div class="mini-wrapper">

        <!-- mini-home 본체 시작 -->
        <div class="mini-home">

          <!-- 상단바 -->
          <div class="top-bar">
            <div class="top-title">✩성준★별빛남자✩님의 미니홈피</div>

            <div class="top-bgm">
              <audio id="bgm" src="bgm.mp3" autoplay loop></audio>

              <strong>BGM: <span>🎵 헤어지지 못하는 여자, 떠나가지 못하는 남자 🎵</span></strong>

              <button type="button" id="play-btn" class="active">▶ 재생</button>
              <button type="button" id="pause-btn">⏸ 정지</button>
            </div>
          </div>

          <!-- 왼쪽 패널 -->
          <aside class="left-panel">
            <section class="profile-card">
              <div class="profile-photo">
                <img src="profile.jpg" alt="프로필 사진">
              </div>
              <div class="profile-name">✩성준★별빛남자✩</div>
              <div class="profile-status">🌙 누구의 하늘 아래서든 나는 성준,<br>오늘도 화이팅 ✨</div>
              <div class="profile-info">
                · 나이: 20살<br />
                · 학교: 한양대학교 ERICA<br />
                · 한 줄 소개: <br />
                &nbsp;&nbsp;ㄴrㄹ6 일촌ṑトㅈr :)
              </div>
            </section>

            <nav class="menu">
              <div class="menu-title">MENU</div>
              <ul class="menu-list">
                <li class="menu-item active" data-target="home">
                  <span>홈</span><small>Home</small>
                </li>
                <li class="menu-item" data-target="diary">
                  <span>다이어리</span><small>Diary</small>
                </li>
                <li class="menu-item" data-target="photo">
                  <span>사진첩</span><small>Photo</small>
                </li>
                <li class="menu-item" data-target="guestbook">
                  <span>방명록</span><small>Guestbook</small>
                </li>
              </ul>
            </nav>
          </aside>

          <!-- 오른쪽 패널 -->
          <main class="right-panel">

            <section class="miniroom">
              <div class="miniroom-label">MINIROOM</div>
              <div class="miniroom-scene">
                <span>여기에 미니룸 이미지<br>또는 일러스트를 넣으세요</span>
              </div>
              <div class="miniroom-text">
                오늘의 미니룸 한마디 🗨<br />
                - 날씨가 좋으면 기분도 좋아지는 타입 ☀<br />
                - 과제와의 전쟁 중...<br />
                - 방문해줘서 고마워요! <span style="font-size: 10px;">(♡나는 너의 팬♡)</span>
              </div>
            </section>

            <section class="content">
              <div class="content-header">
                <div class="content-title">홈</div>
                <div class="content-date" id="today-date"></div>
              </div>

              <div class="content-section active" id="home">
                <div class="home-intro">
                  ㅇ비૮ત્રુṑト⋌ㅔ요, ✩성준★별빛남ㅈr✩의 ㅁ┃Ꮣㅣ홈ᄑㅣના ꖶ신 걸 환영합Ꮣㅣㄷr :)<br>
                  ࿁ㅕ긴 ✩성준★의 별빛๐ㅣ ㅂĿ짝๐ㅣ는 공ㄱ비✩๐ㅣના요.<br>
                  ꖶ늘도 성준★느낌 ㅇrᨈㅣ죠? ㅎㅎ<br>
                  소소ㅎŁ 일ㅅБ들, 추억 ㅎŁ 컷 ㅎŁ 컷 모ટㅏ프Г는 중✦<br>
                  丕용ṑ┃ ㅂĿ짝๐ㅣ는 성준๐ㅣ의 ⋌ㅔኀㅖના 천천ṑ┃ 빠져보⋌ㅔ요 ✧
                </div>
              </div>

              <div class="content-section" id="diary">
                <div class="diary-entry">
                  <div class="diary-entry-title">새로운 시작</div>
                  <div class="diary-entry-date">2025.12.04</div>
                  <div class="diary-entry-body">
오늘 드디어 ㅁ┃Ꮣㅣ 홈ᄑㅣ를 만들었다!
최강 윤성준 ꖶ늘도 호r๐ㅣ팅๐ㅣㄷr. :)
앞으로 ࿁ㅕᥐㅣㄷr프Г 고ト제 ๐ㅣ࿁ㅑᥐㅣㄹ6, 일ㅅБ ᥐㅣ록도 丕금씩 남겨봐࿁ㅑスı.
                  </div>
                </div>

                <div class="diary-entry">
                  <div class="diary-entry-title">시험 끝!</div>
                  <div class="diary-entry-date">2025.12.05</div>
                  <div class="diary-entry-body">
시험이 끝났다.  
살았다… 😭  
며칠 동안 제대로 못 자서 힘들었지만, 이제 조금 쉬어도 되겠지?
친구들이랑 약속도 잡아야겠다!
                  </div>
                </div>
                <button class="write-btn">작성하기</button>
              </div>

              <div class="content-section" id="photo">
                <p style="margin-bottom: 8px;">사진 위에 마우스를 올리면 설명을 넣을 수도 있어요.</p>
                <div class="photo-grid">
                  <div class="photo-item" title="캠퍼스 풍경">사진 1</div>
                  <div class="photo-item" title="카페에서 공부 중">사진 2</div>
                  <div class="photo-item" title="친구들과 함께">사진 3</div>
                  <div class="photo-item" title="야경">사진 4</div>
                </div>
              </div>

              <div class="content-section" id="guestbook">
                <form class="guestbook-form" id="guestbook-form">
                  <input type="text" id="guest-name" placeholder="이름 / 닉네임" required />
                  <textarea id="guest-message" rows="3" placeholder="방명록을 남겨주세요 :)" required></textarea>
                  <button type="submit">작성</button>
                </form>

                <div class="guestbook-list" id="guestbook-list">
                  <div class="guestbook-item">
                    <div class="guestbook-meta">익명 · 2025-12-04</div>
                    <div class="guestbook-text">
                      와… 진짜 싸이월드 미니홈피 감성 제대로다 😂 자주 놀러올게!
                    </div>
                  </div>
                </div>
              </div>

            </section>

          </main>
        </div>
        <!-- mini-home 끝 -->

      </div>
      <!-- mini-wrapper 끝 -->

    </div>
  </div>

  <script>
    function formatToday() {
      const d = new Date();
      const y = d.getFullYear();
      const m = String(d.getMonth() + 1).padStart(2, "0");
      const day = String(d.getDate()).padStart(2, "0");
      return y + "." + m + "." + day;
    }
    document.getElementById("today-date").textContent = formatToday();

    const menuItems = document.querySelectorAll(".menu-item");
    const sections = document.querySelectorAll(".content-section");
    const contentTitle = document.querySelector(".content-title");

    const titleMap = {
      home: "홈",
      diary: "다이어리",
      photo: "사진첩",
      guestbook: "방명록"
    };

    menuItems.forEach((item) => {
      item.addEventListener("click", () => {
        menuItems.forEach((m) => m.classList.remove("active"));
        item.classList.add("active");

        const target = item.getAttribute("data-target");

        sections.forEach((section) => {
          section.classList.toggle("active", section.id === target);
        });

        contentTitle.textContent = titleMap[target] || "홈";
      });
    });

    const guestbookForm = document.getElementById("guestbook-form");
    const guestbookList = document.getElementById("guestbook-list");

    guestbookForm.addEventListener("submit", function (e) {
      e.preventDefault();
      const nameInput = document.getElementById("guest-name");
      const msgInput = document.getElementById("guest-message");

      const name = nameInput.value.trim() || "익명";
      const msg = msgInput.value.trim();
      if (!msg) return;

      const today = formatToday().replace(/\./g, "-");

      const item = document.createElement("div");
      item.className = "guestbook-item";
      item.innerHTML = `
        <div class="guestbook-meta">${name} · ${today}</div>
        <div class="guestbook-text">${msg.replace(/\n/g, "<br>")}</div>
      `;
      guestbookList.prepend(item);

      nameInput.value = "";
      msgInput.value = "";
    });
  </script>

  <script src="script.js"></script>

</body>
</html>
